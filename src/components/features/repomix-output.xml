This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
PropertySearch/
  ExampleQueries.module.css
  ExampleQueries.tsx
  index.ts
  PropertyCard.module.css
  PropertyCard.tsx
  PropertySearchContainer.module.css
  PropertySearchContainer.tsx
  SearchBox.module.css
  SearchBox.tsx
  SearchResults.module.css
  SearchResults.tsx
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="PropertySearch/ExampleQueries.module.css">
.container {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 0.75rem;
  margin-top: 1rem;
}

.label {
  font-size: 0.875rem;
  font-weight: 500;
  color: rgba(255, 255, 255, 0.9);
}

.chips {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.chip {
  padding: 0.5rem 1rem;
  background: rgba(255, 255, 255, 0.2);
  border: 1px solid rgba(255, 255, 255, 0.3);
  border-radius: 20px;
  color: white;
  font-size: 0.875rem;
  cursor: pointer;
  transition: all 0.2s ease;
  backdrop-filter: blur(10px);
}

.chip:hover:not(:disabled) {
  background: rgba(255, 255, 255, 0.3);
  border-color: rgba(255, 255, 255, 0.5);
  transform: translateY(-2px);
}

.chip:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}
</file>

<file path="PropertySearch/ExampleQueries.tsx">
import { useAnalytics } from '../../../hooks';
import { EXAMPLE_QUERIES } from '../../../utils/constants';
import styles from './ExampleQueries.module.css';

interface ExampleQueriesProps {
  onSelectQuery: (query: string) => void;
  disabled?: boolean;
}

export const ExampleQueries = ({
  onSelectQuery,
  disabled = false,
}: ExampleQueriesProps) => {
  const { logExampleQueryClick } = useAnalytics();

  const handleQueryClick = (query: string) => {
    logExampleQueryClick(query);
    onSelectQuery(query);
  };

  return (
    <div className={styles.container}>
      <span className={styles.label}>Try:</span>
      <div className={styles.chips}>
        {EXAMPLE_QUERIES.map((example, idx) => (
          <button
            key={idx}
            onClick={() => handleQueryClick(example)}
            className={styles.chip}
            disabled={disabled}
          >
            {example}
          </button>
        ))}
      </div>
    </div>
  );
};
</file>

<file path="PropertySearch/index.ts">
export { PropertySearchContainer } from './PropertySearchContainer';
export { PropertyCard } from './PropertyCard';
export { SearchBox } from './SearchBox';
export { ExampleQueries } from './ExampleQueries';
export { SearchResults } from './SearchResults';
</file>

<file path="PropertySearch/PropertyCard.module.css">
.card {
  height: 100%;
  transition: all 0.2s ease;
}

.header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 1rem;
}

.owner {
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--neutral-900, #111827);
  margin: 0;
  flex: 1;
}

.address {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.875rem;
  color: var(--neutral-600, #4b5563);
  margin-bottom: 1rem;
}

.details {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.detailItem {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.5rem 0;
  border-bottom: 1px solid var(--neutral-100, #f3f4f6);
}

.detailItem:last-child {
  border-bottom: none;
}

.detailLabel {
  font-size: 0.875rem;
  color: var(--neutral-600, #4b5563);
}

.detailValue {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--neutral-900, #111827);
}

.mono {
  font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', monospace;
  font-size: 0.8125rem;
}
</file>

<file path="PropertySearch/PropertyCard.tsx">
import { useEffect } from 'react';
import { Property } from '../../../types';
import { useFormatting, useAnalytics } from '../../../hooks';
import { Card, CardHeader, CardBody } from '../../ui/Card';
import { Badge } from '../../ui/Badge';
import { Icon } from '../../ui/Icon';
import styles from './PropertyCard.module.css';

interface PropertyCardProps {
  property: Property;
}

export const PropertyCard = ({ property }: PropertyCardProps) => {
  const { formatCurrency } = useFormatting();
  const { logPropertyView } = useAnalytics();

  // Track property view when card is rendered
  useEffect(() => {
    logPropertyView(property.property_id, property.property_address);
  }, [property.property_id, property.property_address, logPropertyView]);

  return (
    <Card variant="elevated" className={styles.card}>
      <CardHeader>
        <div className={styles.header}>
          <h3 className={styles.owner}>{property.name}</h3>
          <Badge variant="info" size="sm">
            {property.prop_type}
          </Badge>
        </div>
      </CardHeader>

      <CardBody>
        <div className={styles.address}>
          <Icon name="location" size={14} />
          {property.property_address}
          {property.city && `, ${property.city}`}
        </div>

        <div className={styles.details}>
          <div className={styles.detailItem}>
            <span className={styles.detailLabel}>Appraised Value</span>
            <span className={styles.detailValue}>
              {formatCurrency(property.appraised_value)}
            </span>
          </div>

          {property.assessed_value && (
            <div className={styles.detailItem}>
              <span className={styles.detailLabel}>Assessed Value</span>
              <span className={styles.detailValue}>
                {formatCurrency(property.assessed_value)}
              </span>
            </div>
          )}

          <div className={styles.detailItem}>
            <span className={styles.detailLabel}>Property ID</span>
            <span className={`${styles.detailValue} ${styles.mono}`}>
              {property.property_id}
            </span>
          </div>
        </div>
      </CardBody>
    </Card>
  );
};
</file>

<file path="PropertySearch/PropertySearchContainer.module.css">
.container {
  min-height: 100vh;
  background: linear-gradient(to bottom, #f9fafb 0%, white 50%);
}

.hero {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  padding: 4rem 2rem;
  color: white;
}

.header {
  max-width: 1200px;
  margin: 0 auto 3rem;
  text-align: center;
}

.header h1 {
  font-size: 3.5rem;
  font-weight: 800;
  margin: 0 0 1rem;
  line-height: 1.2;
}

.subtitle {
  font-size: 1.25rem;
  opacity: 0.95;
  margin: 0;
}

.searchContainer {
  max-width: 900px;
  margin: 0 auto;
}

@media (max-width: 768px) {
  .hero {
    padding: 3rem 1.5rem;
  }

  .header h1 {
    font-size: 2rem;
  }

  .subtitle {
    font-size: 1rem;
  }
}

@media (max-width: 640px) {
  .hero {
    padding: 2rem 1rem;
  }

  .header h1 {
    font-size: 1.75rem;
  }
}
</file>

<file path="PropertySearch/PropertySearchContainer.tsx">
import { useState, useEffect } from 'react';
import { usePropertySearch, useAnalytics } from '../../../hooks';
import { SearchBox } from './SearchBox';
import { ExampleQueries } from './ExampleQueries';
import { SearchResults } from './SearchResults';
import styles from './PropertySearchContainer.module.css';

export const PropertySearchContainer = () => {
  const { results, loading, error, totalResults, explanation, search } =
    usePropertySearch();
  const { logSearch, logSearchResults, logError } = useAnalytics();
  const [searchQuery, setSearchQuery] = useState('');

  const handleSearch = async (query: string) => {
    setSearchQuery(query);

    // Track search initiation
    logSearch(query);

    await search(query);
  };

  // Track search results when they change
  useEffect(() => {
    if (results.length > 0 && searchQuery) {
      logSearchResults(searchQuery, totalResults, !!explanation);
    }
  }, [results, totalResults, explanation, searchQuery, logSearchResults]);

  // Track errors
  useEffect(() => {
    if (error) {
      logError(error, 'property_search');
    }
  }, [error, logError]);

  return (
    <div className={styles.container}>
      <div className={styles.hero}>
        <div className={styles.header}>
          <h1>TCAD Property Explorer</h1>
          <p className={styles.subtitle}>
            Search 122,000+ Travis County properties using natural language
          </p>
        </div>

        <div className={styles.searchContainer}>
          <SearchBox onSearch={handleSearch} loading={loading} />
          <ExampleQueries
            onSelectQuery={handleSearch}
            disabled={loading}
          />
        </div>
      </div>

      <SearchResults
        results={results}
        totalResults={totalResults}
        explanation={explanation}
        error={error}
        loading={loading}
        searchQuery={searchQuery}
      />
    </div>
  );
};
</file>

<file path="PropertySearch/SearchBox.module.css">
.searchBox {
  position: relative;
  display: flex;
  align-items: center;
  background: white;
  border-radius: 12px;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
  overflow: hidden;
  transition: all 0.3s ease;
}

.searchBox:focus-within {
  box-shadow: 0 10px 60px rgba(0, 0, 0, 0.2);
  transform: translateY(-2px);
}

.searchIcon {
  position: absolute;
  left: 1.5rem;
  display: flex;
  align-items: center;
  color: var(--neutral-400, #9ca3af);
  pointer-events: none;
}

.searchInput {
  flex: 1;
  padding: 1.25rem 1.5rem 1.25rem 4rem;
  border: none;
  font-size: 1rem;
  line-height: 1.5rem;
  color: var(--neutral-900, #111827);
  background: transparent;
}

.searchInput:focus {
  outline: none;
}

.searchInput::placeholder {
  color: var(--neutral-400, #9ca3af);
}

.searchInput:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

@media (max-width: 640px) {
  .searchBox {
    flex-direction: column;
    align-items: stretch;
  }

  .searchInput {
    padding-right: 1.5rem;
  }

  .searchBox button {
    border-radius: 0;
    border-bottom-left-radius: 12px;
    border-bottom-right-radius: 12px;
  }
}
</file>

<file path="PropertySearch/SearchBox.tsx">
import { useState, KeyboardEvent } from 'react';
import { Button } from '../../ui/Button';
import { Icon } from '../../ui/Icon';
import styles from './SearchBox.module.css';

interface SearchBoxProps {
  onSearch: (query: string) => void;
  loading?: boolean;
  placeholder?: string;
}

export const SearchBox = ({
  onSearch,
  loading = false,
  placeholder = "Ask anything... e.g., 'properties in Austin worth over $500k'",
}: SearchBoxProps) => {
  const [query, setQuery] = useState('');

  const handleSearch = () => {
    if (query.trim()) {
      onSearch(query);
    }
  };

  const handleKeyPress = (e: KeyboardEvent<HTMLInputElement>) => {
    if (e.key === 'Enter') {
      handleSearch();
    }
  };

  return (
    <div className={styles.searchBox}>
      <div className={styles.searchIcon}>
        <Icon name="search" />
      </div>
      <input
        type="text"
        value={query}
        onChange={(e) => setQuery(e.target.value)}
        onKeyPress={handleKeyPress}
        placeholder={placeholder}
        className={styles.searchInput}
        disabled={loading}
      />
      <Button
        onClick={handleSearch}
        disabled={loading || !query.trim()}
        variant="primary"
      >
        {loading ? 'Searching...' : 'Search'}
      </Button>
    </div>
  );
};
</file>

<file path="PropertySearch/SearchResults.module.css">
.container {
  margin-top: 3rem;
}

.explanation {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 1rem 1.5rem;
  background: var(--neutral-50, #f9fafb);
  border-left: 4px solid var(--primary, #2563eb);
  border-radius: 8px;
  margin-bottom: 2rem;
  font-size: 0.875rem;
  color: var(--neutral-700, #374151);
}

.explanationIcon {
  display: flex;
  align-items: center;
  color: var(--primary, #2563eb);
}

.resultCount {
  margin-left: auto;
  font-weight: 600;
  color: var(--primary, #2563eb);
}

.resultsGrid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 1.5rem;
}

.loadMore {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
  margin-top: 3rem;
  padding: 2rem;
  text-align: center;
}

.loadMore p {
  margin: 0;
  color: var(--neutral-600, #4b5563);
}

.errorMessage {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1rem 1.5rem;
  background: #fee2e2;
  color: #991b1b;
  border-radius: 8px;
  margin-top: 2rem;
}

.noResults {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 4rem 2rem;
  text-align: center;
  color: var(--neutral-500, #6b7280);
}

.noResults h3 {
  margin: 1rem 0 0.5rem;
  color: var(--neutral-700, #374151);
}

.noResults p {
  margin: 0;
}

@media (max-width: 640px) {
  .resultsGrid {
    grid-template-columns: 1fr;
  }
}
</file>

<file path="PropertySearch/SearchResults.tsx">
import { Property } from '../../../types';
import { PropertyCard } from './PropertyCard';
import { Icon } from '../../ui/Icon';
import { Button } from '../../ui/Button';
import styles from './SearchResults.module.css';

interface SearchResultsProps {
  results: Property[];
  totalResults: number;
  explanation?: string;
  error?: string;
  loading?: boolean;
  searchQuery?: string;
  onLoadMore?: () => void;
}

export const SearchResults = ({
  results,
  totalResults,
  explanation,
  error,
  loading,
  searchQuery,
  onLoadMore,
}: SearchResultsProps) => {
  if (error) {
    return (
      <div className={styles.errorMessage}>
        <Icon name="alertCircle" />
        <div>
          <strong>Error:</strong> {error}
        </div>
      </div>
    );
  }

  if (!loading && results.length === 0 && searchQuery) {
    return (
      <div className={styles.noResults}>
        <Icon name="search" size={48} />
        <h3>No properties found</h3>
        <p>Try adjusting your search query or using one of the examples above</p>
      </div>
    );
  }

  if (results.length === 0) {
    return null;
  }

  return (
    <div className={styles.container}>
      {explanation && (
        <div className={styles.explanation}>
          <div className={styles.explanationIcon}>
            <Icon name="chevronRight" size={16} />
          </div>
          <span>{explanation}</span>
          <span className={styles.resultCount}>({totalResults} results)</span>
        </div>
      )}

      <div className={styles.resultsGrid}>
        {results.map((property) => (
          <PropertyCard key={property.id} property={property} />
        ))}
      </div>

      {results.length < totalResults && onLoadMore && (
        <div className={styles.loadMore}>
          <p>
            Showing {results.length} of {totalResults} results
          </p>
          <Button onClick={onLoadMore} variant="outline">
            Load More
          </Button>
        </div>
      )}
    </div>
  );
};
</file>

</files>
