## February 26, 2026 — Redis TLS Migration & Scraper Fixes

### Infrastructure
- **Render Redis migration**: Local dev and production now use Render Redis with TLS (`rediss://`)
- **Doppler secrets updated**: `REDIS_URL`, `REDIS_HOST` point to Render; `PLAYWRIGHT_BROWSERS_PATH` set for local dev
- **Render Redis IP allowlist**: Opened for local development access
- **TLS auto-detection**: `config.redis.tls` flag derived from `rediss://` URL prefix
- **`buildRedisConfig()`**: New helper in `scraper.queue.ts` parses TLS URLs for Bull queue

### Bug Fixes
- **NULL appraised_value**: Added `COALESCE($param, 0)` in raw SQL and `|| 0` param fallback to prevent NOT NULL violations from TCAD API responses returning null/NaN appraised values
- **ON CONFLICT clause**: Fixed upsert to use `(property_id, year)` matching the unique constraint; removed redundant `year = EXCLUDED.year` from UPDATE SET
- **Redis cache TLS**: Added TLS socket option to `RedisCacheService` for `rediss://` URLs

### Documentation
- Updated CLAUDE.md, README.md, SETUP.md, DOCKER.md, doppler-setup.md
- Fixed stale port references (3000 → 3001), removed PM2/hobbes/local-Redis references
- Clarified Render Redis as primary for both production and local dev
